<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Research-subject-mapper by ctsit</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Research Subject Mapper</h1>
        </header>

        <section id="downloads" class="clearfix">
         <a href="https://github.com/ctsit/research-subject-mapper/zipball/master"
           id="download-zip" class="button"><span>Download .zip</span></a>
         <a href="https://github.com/ctsit/research-subject-mapper/tarball/master"
            id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
         <a href="https://github.com/ctsit/research-subject-mapper"
            id="view-on-github" class="button"><span>View on GitHub</span></a>

         <a href="http://ctsit.github.io/research-subject-mapper/software.html"
            id="download-exe" class="button wide"><span>Download Executables</span></a>
        </section>


        <hr>

<section id="main_content">
   <h3 style="color: #55a; text-align:justify;">
      Research Subject Mapper is a tool designed to serve the needs of multi-center studies to prevent
      exposure of medical record identifiers to the data coordination center while allowing the data
      coordination center to specify data collection periods for the research subjects.  The intended
      usage of this tool is to combine authoritative data from a research subject data store with
      identifiable data at a data collection site to generate inputs for queries of an Electronic Health Record (EHR).
   </h3>

   <br />
   <h4>
      Working with research-subject-mapper executable(egg file)
   </h4>

   <br />
   <h5> Requirements </h5>
   <p>
   To successfully run the Research Subject Mapper tool on the target machine please install the
   software below before going any further.
   </p>

   <h5> Install Python </h5>
   Execute on the target machine
   <pre>
   $ sudo apt-get install python2.7
   </pre>

   <h5> Install Python Packages </h5>
   <pre>
   $ sudo apt-get install python-setuptools
   $ sudo apt-get install python-dev
   $ sudo apt-get install libxml2
   $ sudo apt-get install libxslt1-dev
   </pre>

   <h5> Download the *.egg file </h5>
   <p>
      The Research Subject Mapper Executable can be downloaded from the following address
      <a href="ctsit.github.io/research-subject-mapper">ctsit.github.io/research-subject-mapper</a>
   </p>

   <h5> Installation </h5>
   <p>
      To install research subject mapper run sudo easy_install rsm_X.X.X.egg where X's represent version number.
   </p>

   <h5> Configuration Setup </h5>
   <p>
      Look for <strong>config-example-gsm</strong> and <strong>config-example-gsm-input</strong> directories
      in the rsm installation directory on the target machine and prepare custom config directories
      with your implementations on the target machine.
   </p>

   <h5> Files to modify </h5>
   <p>
      The files that need to be modified with your implementation details in config directory are
      <strong>site-catalog.xml</strong> and <strong>source_data_schema.xml</strong>
   </p>

   <h5> site-catalog.xml </h5>
   <p>
      This xml file follows below structure:
   </p>
   <pre>
&lt;sites_list&gt;
    &lt;site&gt;
        &lt;site_name&gt;source&lt;/site_name&gt;
        &lt;site_URI&gt;sftp.source_site.edu&lt;/site_URI&gt;
        &lt;site_uname&gt;source_user&lt;/site_uname&gt;
        &lt;site_password&gt;source_password&lt;/site_password&gt;
        &lt;site_remotepath&gt;ftp/smi.xml&lt;/site_remotepath&gt;
        &lt;site_contact_email&gt;contact@source_site.edu&lt;/site_contact_email&gt;
    &lt;/site&gt;
&lt;/sites_list&gt;
   </pre>


   <h5> source_data_schema.xml </h5>
   <p>
      This xml file follows below structure:
   </p>
   <pre>
&lt;source&gt;
    &lt;redcap_uri&gt;Your_RedCap_Instance_URI&lt;/redcap_uri&gt;
    &lt;apitoken&gt;API_TOKEN&lt;/apitoken&gt;
    &lt;fields&gt;
        &lt;field&gt;Field_Name&lt;/field&gt;
        &lt;field&gt;Field_Name&lt;/field&gt;
        &lt;field&gt;Field_Name&lt;/field&gt;
    &lt;/fields&gt;
&lt;/source&gt;
   </pre>

   <h4> Running the generate_subject_mapper tools </h4>
   <h5> Input Requirements </h5>
   <ol>
      <li>
      Edit the <strong> source_data_schema.xml</strong> file to specify the "Person Index" fields before running gsm.
      You will need to specify the "study subject number", a field to verify the study subject (typically year of birth),
      and the subject's corresponding MRN.
      <li>
      If this tool is being run on the central site you need to run gsmi tool as shown below and put generated files in
      the ftp of the site. Client sites typically only need to run the generate_subject_mapper tool.
   </ol>

   <h5> To generate input at the central site location </h5>
   <p> Run the following command: </p>
   <pre>
   gsmi -c &lt;FULL_PATH_TO_CONFIG_DIRECTORY&gt; -k &lt;YES_OR_NO_TO_KEEP_GENERATED_FILES&gt;
   </pre>

   Notes:
      <ul>
         <li>
         If a directory named <strong>config</strong> is already setup in the parent directory
         of the <strong> generate_subject_map_input.py</strong> file, then it is not necessary to provide the path
         to config directory using the <strong>-c</strong> option.
         <li>
         If this tool is being run at the site, one can just provide site ftp details in the
         <strong>site-catalog.xml</strong> in order to use the gsm tool.
      </ul>

   <h5> To run generate_subject_map.py tool </h5>
   <p> Run the following command: </p>
   <pre>
      gsm -c &lt;FULL_PATH_TO_CONFIG_DIRECTORY&gt; -k &lt;YES_OR_NO_TO_KEEP_GENERATED_FILES&gt;
   </pre>

   Note:
   <ul>
      <li>
      If a directory named <strong>config</strong> is already setup in the parent directory
      of the <strong> generate_subject_map_input.py</strong> file, then it is not necessary to provide the path
      to config directory using the <strong>-c</strong> option.
   </ul>

</section>


<footer>
   Research-subject-mapper is maintained by <a href="https://github.com/ctsit">ctsit</a><br>
   This page was generated by <a href="http://pages.github.com">GitHub Pages</a>.
   Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
</footer>

      </div> <!-- /inner -->
   </div>  <!-- /container -->
  </body>
</html>
